<html>
<head>
	<style>
		.noteable-note textarea{
			display: none;
		}
		
		.note-active textarea{
			display: block;
		}
	</style>
	
	<script src='../src/jquery.min.js'></script>
	<script src='../src/bMoor.js'></script>
	
	<script>
		bMoor.loader.setRoot('../src');
		bMoor.loader.setLibrary( ['jquery'], '../src/jquery', {fullName : true} );
	</script>
	
	<script src='../src/bmoor/Model.js'></script>
	<script src='../src/bmoor/Collection.js'></script>
	<script src='../src/bmoor/glyphing/Glyph.js'></script>
	<script src='../src/bmoor/glyphing/Container.js'></script>
	<script src='../src/bmoor/glyphing/Controller.js'></script>
</head>
<body>
	<div id='glyph_control'>
		<label>Top : <input class='top'/></label>
		<label>Left : <input class='left'/></label>
		<label>Width : <input class='width'/></label>
		<label>Height : <input class='height'/></label>
		<label>Opacity : <input class='opacity'/></label>
		<label>Angle : <input class='angle'/></label>
	</div>
	<div style="margin: 20px auto; width: 400px;">
		<div class='note-target' id="target_space" style="border: 1px solid black; height: 200px;"></div>
		<div id="count">0</div>
		<button onclick="alert( $('#target_space').data('self').toJson() );">To Json</button>
		<button onclick="console.log( $('#target_space').data('self').toObject() );">To Object</button>
		<button onclick="$('#target_space').data('self').addGlyph({left:20,top:20,width:50,height:50,angle:45});">Add Glyph 1</button>
		<button onclick="$('#target_space').data('self').addGlyph({left:70,top:20,width:50,height:50,opacity:.5});">Add Glyph 2</button>
		<button onclick="$('#target_space').data('self').addGlyph({left:20,top:70,width:50,height:50})">Add Glyph 3</button>
	</div>
	<script>
	bMoor.require(['bmoor.glyphing.Controller','bmoor.glyphing.Container'], function(){
		var
			controller = new bmoor.glyphing.Controller( new $('#glyph_control') );
			container = new bmoor.glyphing.Container( $('#target_space'), {
				glyphClass : bmoor.glyphing.Glyph,
				glyphSettings : {
					template : {
						id : 'glyphTemplate',
						settings : {}
					}
				}
			});
		
		$('#target_space').on('new-glyph', function( event, glyph ){
			controller.setGlyph( glyph );
			document.getElementById('count').innerHTML++;
		});
	});
	</script>
	<script type="text/html" id="glyphTemplate">
	<![CDATA[
	<p class="greetings">W</p>
	]]>
	</script>
</body>
</html>

