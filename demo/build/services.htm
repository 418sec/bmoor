<html>
<head>
<script src="../../src/bMoor.js"></script>
<script src="../../src/bmoor/build/ModInherit.js"></script>
<script src="../../src/bmoor/build/ModProperties.js"></script>
<script src="../../src/bmoor/build/Compiler.js"></script>
<script src="../../src/bmoor/build/ModFinalize.js"></script>
<script src="../../src/bmoor/build/ModSingleton.js"></script>
<script src="../../src/bmoor/build/ModFactory.js"></script>
<script src="../../src/bmoor/build/ModDecorate.js"></script>
<script src="../../src/bmoor/build/ModPlugin.js"></script>

<script src="../../src/bmoor/comm/Service.js"></script>
<script src="../../src/bmoor/core/Decorator.js"></script>

<script src="../../src/bmoor/comm/Http.js"></script> <!-- TODO : this needs to be a stub -->
</head>
<body>

<script>
bMoor.make( 'foo.Bar', [ 'bmoor.core.Service', function( Service ){
	return {
		parent : Service,
		services : {
			getPeople : 'test/people.js',
			getJobs : {
				url : 'test/jobs.js',
				responseType : 'json',
				process : true,
				success : function( result ){
					return result;
				},
				failure : function( result ){
					return [];
				}
			},
			getOtherJobs : {
				url : 'test/jobs2.js',
				responseType : 'json',
				process : true,
				success : function( result ){
					return result;
				},
				failure : function( result ){
					return [];
				}
			},
			getOtherJobs : {
				url : 'test/jobs2.js',
				responseType : 'json',
				process : true,
				success : function( result ){
					return result;
				},
				failure : function( result ){
					return [];
				}
			},
			getSomething : {
				url : 'test/something',
				process : true,
				request : function(){
					return { 'dude' : 'okie dokie' };
				},
				success : function( data ){
					return data;
				}
			}
		}
	};
}]).then(function( t ){
	t = new t();

	t.getPeople().then(function( result ){
		console.log( result );
	});

	t.getJobs().then(function( jobs ){
		console.log( jobs );
	});

	t.getOtherJobs().then(function( jobs ){
		console.log( jobs );
	});

	t.getSomething().then(function( dude ){
		console.log( dude );
	});
});


</script>

</body>
</html>