<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<script src="../../src/jquery.min.js"></script>
<script src="../../src/bMoor.js"></script>
<script src='../../src/jquery/jquery.jqote2.js'></script>
<script>
	// unneccisary now
	bMoor.autoload.setRoot('../../src');
	bMoor.autoload.setLibrary( ['jquery'], '../../src/jquery', {fullName : true} );
</script>
<script src="../../src/bmoor/observer/Map.js"></script>
<script src="../../src/bmoor/observer/Collection.js"></script>
<script src="../../src/bmoor/controller/Abstract.js"></script>
<script src='../../src/bmoor/lib/WaitFor.js'></script>
<script src='../../src/bmoor/lib/MouseTracker.js'></script>
<script src='../../src/bmoor/lib/Bootstrap.js'></script>
<script src='../../src/bmoor/templating/JQote.js'></script>
	
<script src="../../src/bmoor/lib/Snap.js"></script>
<script src="../../src/bmoor/node/Basic.js"></script>
<script src="../../src/bmoor/node/View.js"></script>
<script src="../../src/bmoor/node/Text.js"></script>
<script src="../../src/bmoor/node/List.js"></script>

</head>
<body>
	
<script>
(function( global ){
	bMoor.constructor.define({
		name : 'Controller',
		namespace : ['test'],
		parent : ['bmoor','controller','Abstract'],
		require : {
			classes : [ 
				['bmoor','observer','Map'],
				['bmoor','observer','Collection']
			]
		},
		properties : {
			_model : function(){ 
				return { 
					foo : 'foot', 
					bar : { uh:'yay' }, 
					list: [
						{x:'eins'},
						{x:'zwei'},
						{x:'drei'}
					]
				};
			}
		}
	});
}( this ));
</script>

<ul snap-node="bmoor.node.List" snap-template="list1" snap-control="test.Controller" snap-scope="list"></ul>
<ul snap-node="bmoor.node.List" snap-template="list1" snap-control="test.Controller" snap-scope="list" snap-mount='true'>
	<li mount>This is a pre existing thing</li>
	<li>This should be the footer</li>
</ul>
<div snap-node="bmoor.node.View" snap-template="template1" snap-control="test.Controller"> Loading... </div>

<script type="text/html" id="template1">
<![CDATA[
	<b><#= this.foo #></b>
	<span snap-node="bmoor.node.View" snap-template="template2" snap-scope="bar"></span>
]]>
</script>
<script type="text/html" id="template2">
<![CDATA[
	<i><#= this.uh #></i>
]]>
</script>
<script type="text/html" id="list1">
<![CDATA[
	<li><i><#= this.x #></i></li>
]]>
</script>
</body>
</html>