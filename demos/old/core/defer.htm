<html>
<head>

<script src="../../src/bMoor.js"></script>
<script src="../../src/bmoor/defer/Standard.js"></script>

</head>
<body>
<script>
var 
	m = new bmoor.defer.Standard(function(){
		console.log( 'some exception 1' );
	}),
	m2 = new bmoor.defer.Standard(function(){
		console.log( 'some exception 2' );
	}),
	m3 = new bmoor.defer.Standard(function(){
		console.log( 'some exception 3' );
	});

m2.resolve('m2 - woot');
m.promise
	.then(function(value){
		console.log( value );
		return 'm1 - woot';
	})
	.then(function(value){
		console.log( value );
		return m2.promise;
	})
	.then(function(value){
		console.log( value );
		return m3.promise;
	})
	.then(function(value){
		console.log( value );
		throw '--derp--';
	}).
	then(function(){
		console.log( 'success' );
	},function(){
		console.log( 'failure' );
	});

m.resolve('hey');
m3.resolve('m3 - woot');
</script>

</body>
</html>
