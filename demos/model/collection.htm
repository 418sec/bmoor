<html>
<head>
	<style>
		.noteable-note textarea{
			display: none;
		}
		
		.note-active textarea{
			display: block;
		}
	</style>
	
	<script src='../../src/jquery.min.js'></script>
	<script src='../../src/bMoor.js'></script>
	<script src='../../src/bmoor/model/Map.js'></script>
	<script src='../../src/bmoor/model/Collection.js'></script>
</head>
<body>
	<script>
	bMoor.autoload.done(function(){
		var
			collection = new bmoor.model.Collection( [{x:2},{x:4},{x:6}] ),
			hold = {x:8};
		
		collection._stop();
		collection._bind( function( changes ){
			console.log( 'collection', this );
			console.log( 'additions', changes.additions );
			console.log( 'moves', changes.moves );
			console.log( 'removals', changes.removals );
		} );
		
		console.log( collection );

		setTimeout( function(){ console.log('pushing'); collection.push(hold); collection._flush(); }, 500 );
		setTimeout( function(){ console.log('pushing'); collection.push({x:10}); collection._flush(); }, 1000 );
		setTimeout( function(){ console.log('shifting'); collection.shift(); collection._flush(); }, 2000);
		setTimeout( function(){ console.log('remove'); collection.remove( collection[2]); collection._flush(); }, 3000);
		setTimeout( function(){ console.log('popping'); collection.pop(); collection._flush(); }, 4000);
		setTimeout( function(){ console.log( 'end', collection ); collection._flush(); }, 4500);
	});
	</script>
</body>
</html>

