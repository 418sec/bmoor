<html>

<head>
	<script src="../build/bmoor.js"></script>
</head>
<body>
<script>

	// Basic declaration	
	var obj = bMoor.define( 'foo.Hello', {
		properties : {
			hello : function(){ 
				console.log('world'); 
			}
		}
	});

	( new obj() ).hello();

	// Define a singleton
	bMoor.define( 'foo.Woot',{
		singleton : true,
		properties : {
			say : function( something ){ 
				console.log( something ); 
			}
		}
	});

	foo.$woot.say( 'hello to my little friend' );

	// Define a factory
	bMoor.define('foo.Dog', {
		factory : true,
		construct : function( whatToSay ){
			this.something = whatToSay;
		},
		properties : {
			speak : function(){ 
				console.log( this.something ); 
			}
		}
	});

	obj = foo.Dog.$make('woof');
	obj.speak();

	// Decoration
	bMoor.define( 'foo.Decorator1', ['bmoor.core.Decorator', function( Decorator ){
		return {
			parent : Decorator,
			properties : {
				speak : function(){
					this.$wrapped();
					console.log('now roll over');
				}
			}
		};
	}]);

	bMoor.define( 'foo.Pheonix', ['foo.Dog', function( Dog ){
		return {
			parent : Dog,
			decorators : [
				'foo.Decorator1'
			]
		};
	}]);

	( new obj('woofie woof') ).speak();

	// Requiring
	bMoor.define( 'foo.Body', [
		'>jQuery>//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js',
		function( $ ){
			return {
				construct : function(){
					$('body').append('<span>Was Loaded and Created</span>');
				}
			};
		}
	]).then(function( obj ){
		new obj();
	});

</script>
</body>

</html>