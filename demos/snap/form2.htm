<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
	<script src="../../src/jquery.min.js"></script>
	<script src="../../src/bMoor.js"></script>
	<script src="../../src/bmoor/snap/List.js"></script>

	<script>
	(function( global ){
		bMoor.constructor.singleton({
			name : 'Controller',
			namespace : ['test'],
			parent : ['bmoor','controller','Abstract'],
			require : {
				classes : [ 
					['bmoor','model','Map'],
					['bmoor','model','Collection']
				]
			},
			properties : {
				_model : function(){
					return new bmoor.model.Collection([{
						description: 'derp',
						label : 1,
						display : 2
					},{
						description: 'derp2',
						label : 3,
						display : 4
					}]);
				}
			}
		});
	
		$(document).ready(function(){
			$('#addButton').click(function(){
				global.lowView.add({
					description : '',
					label : '',
					display : ''
				});
			});
		});
	}( this ));
	</script>
</head>
<body snap-controller="test.Controller" >
	<table snap-class="bmoor.snap.List" snap-child="tr" snap-mount="mount" snap-template="temp">
		<tbody>
			<tr class='mount'>
	            <th>Description</th>
	            <th>Label</th>
	            <th>Display</th>
	            <th>&nbsp;</th>
        	</tr>
        </tbody>
	</table>
	<button id="addButton"> Add Row </button>
	<script id='temp' type='text/html'>
		<td><input snap-class='bmoor.snap.form.Text' type='text' name='description'/></td>
        <td><input snap-class='bmoor.snap.form.Text'  type='text' name='label'/></td>
        <td><input snap-class='bmoor.snap.form.Text'  type='text' name='display'/></td>
        <td><button snap-class='bmoor.snap.form.Button' type='button' snap-variable="_.remove" name='remove' value="1">Remove</button></td>
	</script>
</body>

</html>